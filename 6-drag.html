<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }

        div.rectangle {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            background-color: rgba(255, 0, 0, 0.4);
            border: 1px solid red;
        }
    </style>
    <script>

        // create a program that allows you to draw rectangles on a page
        // You should be able to see the rectangle as you draw it by clicking and dragging

        document.addEventListener('DOMContentLoaded', function () {

            function mouseMoveHandler(event) {
                // get access to the currently created div element
                var div = mouseMoveHandler.div;
                var prev = mouseMoveHandler.initPos;
                var curr = [event.clientX, event.clientY];
                div.style.left = curr[0] < prev[0] ? curr[0] + 'px' : prev[0] + 'px';
                div.style.top = curr[1] < prev[1] ? curr[1] + 'px' : prev[1] + 'px';
                div.style.width = Math.abs(curr[0] - prev[0]) + 'px';
                div.style.height = Math.abs(curr[1] - prev[1]) + 'px';
            }


            // listen for mousedown event
            document.body.addEventListener('mousedown', function (event) {
                // create a div element and store it within the document body
                var div = document.createElement('div');
                div.className = 'rectangle';
                document.body.appendChild(div);
                mouseMoveHandler.initPos = [event.clientX, event.clientY];
                mouseMoveHandler.div = div;

                // register an event handler for the mousemove event handler
                document.body.addEventListener('mousemove', mouseMoveHandler);
            });

            document.body.addEventListener('mouseup', function (event) {
                if (mouseMoveHandler.div.width === 0) document.body.removeChild(mouseMoveHandler.div);
                document.body.removeEventListener('mousemove', mouseMoveHandler);
            });
        });

    </script>
</head>
<body>

</body>
</html>








